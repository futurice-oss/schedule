<!doctype html>
<!-- view this file at http://localhost:8000/static/futuintro/index.html -->
<html>
  <head>
    <title>Hello Ajax</title>
    <script src="https://code.jquery.com/jquery-1.11.0.min.js"></script>
    <script src="jquery.cookie.js"></script>
  </head>

  <body>
    <h1>Hello Ajax!</h1>
    <button type="button" onclick="f()">Click me</button>

    <script type="text/javascript">
      function f() {
        r = new XMLHttpRequest();
        r.onload = function() {
          console.log(JSON.parse(this.responseText));
        };
        r.open('post', '/futuintro/ajax/');
        r.send(JSON.stringify({
              'hello': 'WÂ°rld',
              3: [99, 'jim'],
              }));
      }

      function g() {
        r = new XMLHttpRequest();
        r.open('POST', '/futuintro/api/timezones/');
        r.setRequestHeader('Content-Type', 'application/json; charset=UTF-8');
        r.setRequestHeader("X-CSRFToken", $.cookie('csrftoken'));
        r.send(JSON.stringify({
              'name': 'BLa bla'
        }));
      }

      function h() {
        r = new XMLHttpRequest();
        r.open('DELETE', '/futuintro/api/timezones/5/');
        //r.setRequestHeader('Content-Type', 'application/json; charset=UTF-8');
        r.setRequestHeader("X-CSRFToken", $.cookie('csrftoken'));
        r.send();
      }

      function j() {
        r = new XMLHttpRequest();
        r.onload = function() {
          console.log(JSON.parse(this.responseText));
        };
        r.open('GET', '/futuintro/api/timezones/');
        r.send();
      }
    </script>
  </body>
</html>
